<template>
    <g>
        <g :transform="'translate(0,-'+ offsetY + ')'" v-for="(ability, index) in abilityList" :key="ability.id">
            <g :class="['icon-ability', {'icon-inverted': frontInvertAbilities}]" :transform="'translate(' + abilityX(index) + ',' + abilityY(index) + ')'">
                <template v-if="ability.name === 'transport'">
                    <path d="M4.3,1.1V0.8l0,0c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7l0,0v0.3L5.3,1.5H4.7L4.3,1.1z M8.5,1.5h0.6l0.4-0.4V0.8l0,0
		c0-0.4-0.3-0.7-0.7-0.7S8,0.4,8,0.8l0,0v0.3L8.5,1.5z M1,1.5h0.6L2,1.1V0.8l0,0c0-0.4-0.3-0.7-0.7-0.7S0.5,0.4,0.5,0.8l0,0v0.3
		L1,1.5z M4.3,2L3.8,2.5v2h0.5v3h1.5v-3h0.5v-2L5.8,2H4.3z M0.5,2L0,2.5v2h0.5v3H2v-3h0.5v-2L2,2H0.5z M9.5,2H8L7.5,2.5v2H8v3h1.5
		v-3H10v-2L9.5,2z"/>

                    <rect v-if="tile_class_id > 0" x="0.5" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 1" x="2.4" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 2" x="4.3" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 3" x="6.2" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 4" x="8" y="8.5" width="1.5" height="1.5"/>
                </template>

                <template v-if="ability.name === 'tunneling'">
                    <path d="M4.8,8H0V0h0.8l1.5,3h-1l1.5,1l0.8,1.5h-1l1.5,1L4.8,8z M7.8,3h1L7.3,4L6.5,5.5h1L6,6.5L5.3,8h4.8V0H9.3L7.8,3z M3.7,3.9
		L7,2.6l1.2-2.4L2.9,2.3L3.7,3.9z M6.5,3.6L5,6.5L4,4.6L6.5,3.6z M2.6,1.7L1.8,0h4.8L2.6,1.7z"/>

                    <rect v-if="tile_class_id > 0" x="0.5" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 1" x="2.4" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 2" x="4.3" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 3" x="6.2" y="8.5" width="1.5" height="1.5"/>
                    <rect v-if="tile_class_id > 4" x="8" y="8.5" width="1.5" height="1.5"/>
                </template>

                <template v-if="ability.name === 'jump_jets'">
                    <path d="M7.4,6.8l-1.3,2L5.9,7.5L5,10l0,0l0,0l0,0l0,0L4.1,7.5L3.9,8.8l-1.3-2C3.3,6.9,4.1,7,5,7S6.7,6.9,7.4,6.8z M8.1,0H1.9
                	L0.7,3.2v2.1C1.9,5.7,3.4,5.9,5,5.9s3.2-0.2,4.4-0.5V3.2L8.1,0z"/>
                </template>

                <template v-if="ability.name === 'amphibious'">
                    <path d="M5.4,2.3V10H4.7V2.3h-1L5,0l1.3,2.3H5.4z M4,8.1C3.8,8.3,3.5,8.4,3.2,8.4C2.7,8.4,2.3,8.2,2,7.9C1.7,8.2,1.3,8.4,0.9,8.4
                	c-0.3,0-0.6-0.1-0.8-0.3v0.5c0.2,0.2,0.5,0.3,0.8,0.3c0.4,0,0.8-0.2,1.2-0.5c0.2,0.3,0.6,0.5,1.1,0.5c0.3,0,0.6-0.1,0.9-0.3V8.1H4z
                	 M2,3.8c0.3,0.3,0.7,0.5,1.2,0.5c0.3,0,0.6-0.1,0.9-0.3V3.6C3.8,3.7,3.5,3.8,3.2,3.8C2.8,3.8,2.4,3.6,2,3.3C1.7,3.7,1.3,3.8,0.9,3.8
                	c-0.3,0-0.6-0.1-0.8-0.3V4c0.2,0.3,0.5,0.3,0.8,0.3C1.3,4.3,1.7,4.2,2,3.8z M2,5.9c0.3,0.3,0.7,0.5,1.2,0.5c0.3,0,0.6-0.1,0.9-0.3
                	V5.6C3.8,5.8,3.5,5.9,3.2,5.9C2.7,5.9,2.3,5.7,2,5.4C1.7,5.7,1.3,5.9,0.9,5.9C0.6,5.9,0.3,5.8,0,5.6v0.5c0.3,0.2,0.6,0.3,0.9,0.3
                	C1.3,6.4,1.7,6.2,2,5.9z M7.7,7.9C7.4,8.2,7,8.4,6.6,8.4c-0.2,0-0.4,0-0.5-0.1v0.5c0.1,0,0.3,0.1,0.5,0.1c0.4,0,0.8-0.2,1.2-0.5
                	C8,8.7,8.4,8.9,8.9,8.9c0.4,0,0.8-0.2,1.2-0.5V7.9C9.8,8.2,9.4,8.4,8.9,8.4S8,8.2,7.7,7.9z M7.7,5.4C7.4,5.7,7,5.9,6.6,5.9
                	c-0.2,0-0.4,0-0.5-0.1v0.5c0.2,0.1,0.3,0.1,0.5,0.1c0.4,0,0.8-0.2,1.2-0.5C8,6.2,8.4,6.4,8.9,6.4c0.4,0,0.8-0.2,1.2-0.5V5.4
                	C9.7,5.7,9.3,5.9,8.9,5.9C8.4,5.9,8,5.7,7.7,5.4z M8.9,3.8c-0.4,0-0.8-0.2-1.2-0.5C7.4,3.7,7,3.8,6.6,3.8c-0.2,0-0.4,0-0.5-0.1v0.5
                	c0.2,0.1,0.3,0.1,0.5,0.1c0.4,0,0.8-0.2,1.2-0.5C8,4.2,8.4,4.3,8.9,4.3c0.4,0,0.8-0.2,1.2-0.5V3.3C9.7,3.7,9.3,3.8,8.9,3.8z"/>
                </template>

                <template v-if="ability.name === 'warhead_nuke'">
                    <path d="M8.5,6.5C8.4,2.8,6.8,0,5,0S1.6,2.8,1.5,6.5c0,0.9,0,3.5,0,3.5h7C8.5,10,8.5,7.4,8.5,6.5z M5,5.7c0.3,0,0.6,0.3,0.6,0.6
                	S5.3,6.9,5,6.9S4.4,6.6,4.4,6.3S4.7,5.7,5,5.7z M3.5,3.7l1,1.8C4.3,5.7,4.1,6,4.1,6.3H2C2,5.2,2.6,4.2,3.5,3.7z M3.5,8.9l1-1.8
                	c0.3,0.2,0.6,0.2,0.9,0l1,1.8C5.6,9.4,4.4,9.4,3.5,8.9z M5.9,6.3c0-0.3-0.2-0.6-0.5-0.8l1-1.8C7.4,4.2,8,5.2,8,6.3H5.9z"/>
                </template>

                <template v-if="ability.name === 'warhead_chem'">
                    <path d="M8.5,6.5C8.4,2.8,6.8,0,5,0S1.6,2.8,1.5,6.5c0,0.9,0,3.5,0,3.5h7C8.5,10,8.5,7.4,8.5,6.5z M6,5.2c0,0.1-0.1,0.2-0.2,0.3
                	c-0.4-0.4-1.1-0.4-1.5,0C4.2,5.4,4.1,5.3,4,5.2C4.6,4.7,5.4,4.7,6,5.2z M2.2,7.8c-0.4-0.9,0.1-2,1-2.4c0,0,0,0,0.1,0
                	c-0.2-1,0.5-1.9,1.5-2.1c0,0,0,0,0.1,0v0.1c-0.7,0.1-1.1,0.8-1,1.5c0.1,0.6,0.6,1,1.2,1v0.2c-0.2,0-0.3,0.2-0.3,0.4c0,0,0,0,0,0.1
                	L4.5,6.7C4.1,6.1,3.3,5.9,2.7,6.3C2.3,6.6,2,7.2,2.2,7.8L2.2,7.8z M4.6,7.6c0,0.1-0.1,0.3-0.2,0.4c-0.7-0.3-1.1-1-1-1.8
                	c0.1,0,0.3,0,0.4,0.1C3.7,6.8,4,7.4,4.6,7.6z M5.1,8.6C5,8.6,5,8.5,5.1,8.6c-0.8,0.6-2,0.5-2.6-0.3l0,0h0.1c0.5,0.5,1.3,0.6,1.8,0.1
                	C4.8,8,5,7.4,4.7,6.9l0.2-0.1C5,7,5.3,7,5.4,6.8l0,0l0.2,0.1C5.1,7.4,5.4,8.2,6,8.5c0.5,0.3,1.2,0.1,1.5-0.3h0.1
                	C7,9,5.9,9.2,5.1,8.6z M5.5,7.6C6,7.4,6.3,6.8,6.2,6.3c0.1,0,0.3-0.1,0.4-0.1C6.8,7,6.3,7.7,5.6,8C5.5,7.9,5.5,7.7,5.5,7.6z
                	 M7.9,7.8L7.9,7.8L7.9,7.8C8,7.1,7.7,6.4,7,6.2C6.5,6,5.8,6.2,5.5,6.7L5.4,6.6c0.1-0.2,0-0.4-0.2-0.5c0,0,0,0-0.1,0V5.9
                	c0.7,0,1.2-0.6,1.2-1.3c0-0.6-0.5-1.1-1-1.2V3.3c1,0.1,1.7,1.1,1.6,2.1c0,0,0,0,0,0.1C7.8,5.8,8.2,6.8,7.9,7.8z"/>
                </template>

                <template v-if="ability.name === 'warhead_emp'">
                    <path d="M4.2,8.2C4.5,8.7,4.7,9,5,9s0.5-0.3,0.8-0.8C5.5,8.1,5.3,8,5,7.9C4.7,8,4.5,8.1,4.2,8.2z M4.5,4.9c-0.1,0-0.2-0.1-0.4-0.1
                	C4.1,4.9,4,5.1,4,5.2C4.1,5.1,4.2,5.1,4.3,5C4.4,5,4.5,5,4.5,4.9z M4.3,7.6C4.2,7.5,4.1,7.5,4,7.4c0,0.2,0.1,0.3,0.1,0.4
                	c0.1,0,0.3-0.1,0.4-0.1C4.5,7.7,4.4,7.6,4.3,7.6z M5.8,4.4C5.5,4,5.3,3.7,5,3.7S4.5,4,4.2,4.4C4.5,4.5,4.7,4.6,5,4.7
                	C5.3,4.6,5.5,4.5,5.8,4.4z M3.6,5.5c0-0.3,0.1-0.5,0.2-0.8c-0.1,0-0.2,0-0.3,0C3.1,4.7,2.8,4.8,2.7,5C2.6,5.2,2.7,5.6,3,6
                	C3.2,5.9,3.4,5.7,3.6,5.5z M5.7,5.1c0.1,0,0.2,0.1,0.3,0.1C6,5,5.9,4.9,5.9,4.8c-0.1,0-0.3,0.1-0.4,0.1C5.5,5,5.6,5,5.7,5.1z
                	 M3.2,6.3c0.1,0.1,0.2,0.2,0.3,0.3c0-0.1,0-0.2,0-0.3c0-0.1,0-0.2,0-0.3C3.4,6.1,3.3,6.2,3.2,6.3z M3,6.6C2.7,7,2.6,7.4,2.7,7.6
                	S3.2,8,3.8,7.9C3.7,7.7,3.6,7.4,3.6,7.1C3.4,6.9,3.2,6.8,3,6.6z M6.8,6.3C6.7,6.2,6.6,6.1,6.4,6c0,0.1,0,0.2,0,0.3
                	c0,0.1,0,0.2,0,0.3C6.6,6.5,6.7,6.4,6.8,6.3z M5.4,7.7c0.1,0.1,0.3,0.1,0.4,0.1C5.9,7.7,6,7.6,6,7.4C5.9,7.5,5.8,7.5,5.7,7.6
                	C5.6,7.6,5.5,7.7,5.4,7.7z M8.5,6.5C8.4,2.8,6.8,0,5,0S1.6,2.8,1.5,6.5c0,0.9,0,3.5,0,3.5h7C8.5,10,8.5,7.4,8.5,6.5z M7.6,7.8
                	C7.4,8.1,7.1,8.3,6.5,8.3c-0.1,0-0.2,0-0.3,0H6.1c-0.2,0.6-0.6,1-1.1,1S4.1,8.9,3.9,8.2c-0.1,0-0.3,0-0.4,0C3,8.3,2.6,8.1,2.4,7.8
                	C2.2,7.4,2.3,6.9,2.8,6.3C2.3,5.8,2.2,5.2,2.4,4.8c0.2-0.4,0.8-0.5,1.5-0.4C4.1,3.7,4.5,3.3,5,3.3s0.9,0.4,1.1,1.1
                	c0.1,0,0.1,0,0.1,0c0.7-0.1,1.1,0.1,1.3,0.4c0.2,0.4,0.1,0.9-0.4,1.5C7.7,6.9,7.8,7.4,7.6,7.8z M6.3,4.7L6.3,4.7
                	c0,0.2,0.1,0.5,0.1,0.8C6.6,5.7,6.8,5.9,7,6c0.3-0.4,0.4-0.8,0.3-1C7.2,4.8,6.8,4.7,6.3,4.7z M6.4,7.1c0,0.3-0.1,0.5-0.2,0.8
                	c0,0,0,0,0.1,0c0.5,0.1,0.9,0,1-0.3c0.1-0.2,0-0.6-0.3-1C6.8,6.8,6.6,6.9,6.4,7.1z M5.5,5.4C5.4,5.3,5.2,5.2,5,5.1
                	C4.8,5.2,4.6,5.3,4.5,5.4C4.3,5.5,4.1,5.6,3.9,5.7c0,0.2,0,0.4,0,0.6s0,0.4,0,0.6C4.1,7,4.3,7.1,4.5,7.2C4.6,7.4,4.8,7.4,5,7.5
                	c0.2-0.1,0.4-0.2,0.5-0.3C5.7,7.1,5.9,7,6.1,6.9c0-0.2,0-0.4,0-0.6s0-0.4,0-0.6C5.9,5.6,5.7,5.5,5.5,5.4z M5,6.9
                	c-0.3,0-0.5-0.2-0.5-0.5C4.5,6,4.7,5.8,5,5.8S5.5,6,5.5,6.3C5.5,6.6,5.3,6.9,5,6.9z"/>
                </template>

                <template v-if="ability.name === 'deforestation'">
                    <path d="M2.4,7.9l0.2,1.2L1.7,9.3L1.5,8L2.4,7.9z M3.2,5.9L1.8,4.3l0.7-0.1L0.9,2.1L0.1,4.6l0.7-0.1L0,6.5l0.7-0.1l-0.8,2L2,7.9
                			l1.9-0.3L2.5,6L3.2,5.9z M7.4,9.1l0.9,0.2l0.2-1.2L7.7,7.9L7.4,9.1z M10,8.3l-0.8-2l0.7,0.1l-0.8-2l0.7,0.1L9,2L7.5,4.1l0.7,0.1
                			L6.8,5.9L7.5,6L6.2,7.6l1.9,0.3L10,8.3z M6.3,2.3L5,0L3.7,2.3h0.9V10h0.8V2.3H6.3z"/>
                </template>
                <template v-if="ability.name === 'armor_explosive'">
                    <path d="M5.5,3.5l0.3,0.4L5.5,5.1L2.3,6.6L1.6,5.3l2.9-2L5.5,3.5z M8.9,3.2L7.3,2.8l0.5-1.5L6.5,2.2L5.8,0.8L5.4,2.3L3.9,1.8
                			l0.6,0.9h0.1l1.1,0.2L5.9,3L6,3.2l0.3,0.4l0.1,0.3v0.2L6.1,5.2v0.1l0.5,0.9l0.3-1.6l1.5,0.5L7.5,3.9L8.9,3.2z M10,7.2V1.5L8.3,0
                			H1.8L0.1,1.5v5.7L5,10.1L10,7.2z M0.7,1.8L2,0.6h6.1l1.3,1.2v5.1L5,9.4L0.7,6.8V1.8z"/>
                </template>

                <template v-if="ability.name === 'armor_energy'">
                    <path d="M5.8,3.5L5.8,3.5L4.2,4.2c0.7-0.6,1.4-1.1,2.1-1.7c0,0,0.1,0,0.1-0.1C7,2.1,7.7,2.3,8.1,2.9c0.3,0.6,0.1,1.3-0.4,1.6
                			c-1,0.6-2.3,0.9-3.3,1.4l1.8-1.4L2.4,6.1L5.8,3.5z M10,7.2V1.5L8.3,0H1.8L0.1,1.5v5.7L5,10.1L10,7.2z M0.7,1.8L2,0.6h6.1l1.3,1.2
                			v5.1L5,9.4L0.7,6.8V1.8z"/>
                </template>

                <template v-if="ability.name === 'armor_kinetic'">
                    <path d="M5,10L0.1,7.2V1.5L1.7,0h6.5l1.7,1.5v5.7L5,10z M0.6,6.8L5,9.4l4.4-2.5V1.8L8,0.6H2L0.6,1.8V6.8z M3.4,6.5l1.9-1.1l-1-1.7
                	L2.4,4.8L3.4,6.5z M4.8,3.4l1,1.7c1.3-0.7,2-1.7,1.7-2.1C7.3,2.6,6.1,2.7,4.8,3.4z"/>
                </template>

                <template v-if="ability.name === 'repair'">
                    <path d="M8.5,2.7L7.4,1.6l1.4-1.4C8.5,0.1,8.3,0,8,0C6.9,0,6,0.9,6,2c0,0.3,0.1,0.5,0.1,0.7L2.8,6.2C2.5,6.1,2.3,6,2,6
                		C0.9,6,0,6.9,0,8c0,0.3,0.1,0.5,0.1,0.7l1.4-1.4l1.1,1.1L1.3,9.9C1.5,10,1.8,10,2,10c1.1,0,2-0.9,2-2c0-0.3-0.1-0.5-0.1-0.7
                		l3.4-3.4C7.5,4,7.8,4,8,4c1.1,0,2-0.9,2-2c0-0.3-0.1-0.5-0.1-0.7L8.5,2.7z"/>
                </template>

                <template v-if="ability.name === 'damage_control'">
                    <path d="M6.8,8.9l0.1,0.6L5,8.9l1.5-1.4l0.1,0.6c1.2-0.6,1.9-1.8,1.9-3.2h0.8C9.3,6.7,8.3,8.2,6.8,8.9z M5,1.1L3.1,0.5l0.1,0.6
                    		C1.7,1.8,0.7,3.3,0.7,5h0.8c0-1.4,0.8-2.6,1.9-3.2l0.1,0.6L5,1.1z"/>
                    <path d="M8.5,2.7L7.4,1.6l1.4-1.4C8.5,0.1,8.3,0,8,0C6.9,0,6,0.9,6,2c0,0.3,0.1,0.5,0.1,0.7L2.8,6.2C2.5,6.1,2.3,6,2,6
                    		C0.9,6,0,6.9,0,8c0,0.3,0.1,0.5,0.1,0.7l1.4-1.4l1.1,1.1L1.3,9.9C1.5,10,1.8,10,2,10c1.1,0,2-0.9,2-2c0-0.3-0.1-0.5-0.1-0.7
                    		l3.4-3.4C7.5,4,7.8,4,8,4c1.1,0,2-0.9,2-2c0-0.3-0.1-0.5-0.1-0.7L8.5,2.7z"/>
                </template>

                <template v-if="ability.name === 'airborne'">
                    <path d="M10,5c0-2.8-2.2-5-5-5S0,2.2,0,5l4.3,3.9c0,0.1-0.1,0.2-0.1,0.3C4.2,9.6,4.5,10,5,10s0.8-0.3,0.8-0.8c0-0.1,0-0.2-0.1-0.3
                	L10,5z M6.9,5L5.2,8.5H4.8L3.2,5C4.4,5,5.7,5,6.9,5z M7.4,5c0.7,0,1.3,0,1.8,0L5.9,8L7.4,5z M2.6,5l1.5,3L0.8,5C1.3,5,1.9,5,2.6,5z"
                    />
                </template>

                <template v-if="ability.name === 'ews'">
                    <path d="M8.3,8.3c0.8-0.8,1.4-2,1.4-3.3S9.2,2.6,8.3,1.7l0.5-0.5c1,1,1.6,2.3,1.6,3.8S9.8,7.9,8.8,8.8L8.3,8.3z M1.8,8.3
                	C0.9,7.5,0.4,6.3,0.4,5s0.5-2.4,1.4-3.2L1.2,1.2c-1,1-1.6,2.3-1.6,3.8s0.7,2.9,1.6,3.8L1.8,8.3z M6.1,2.4C6.1,2.3,6.1,2.3,6.1,2.4
                	C5.2,3.3,4.3,4.2,3.4,5.2c0.5,0.1,1,0.2,1.5,0.4C4.7,6.3,4.4,7,4.1,7.7l0,0C5,6.8,5.8,5.8,6.7,4.9c-0.5-0.1-1-0.3-1.5-0.4
                	C5.5,3.8,5.8,3.1,6.1,2.4 M7.3,7.3C7.9,6.7,8.2,5.9,8.2,5S7.9,3.3,7.3,2.8L6.9,3.1C7.4,3.6,7.7,4.3,7.7,5S7.4,6.4,6.9,6.9L7.3,7.3z
                	 M3.1,6.9C2.6,6.4,2.3,5.8,2.3,5s0.3-1.4,0.8-1.9L2.8,2.8c-0.6,0.5-1,1.3-1,2.2s0.4,1.7,0.9,2.3L3.1,6.9z"/>
                </template>

                <template v-if="ability.name === 'ecm'">
                    <path d="M4,1.6c-0.5,1-0.9,2-1.4,3.1C3.3,4.9,4,5.1,4.8,5.3C3.6,6.7,2.4,8,1.2,9.4l0,0c0.4-1,0.7-2,1.1-3.1
                			C1.5,6,0.8,5.9,0,5.7C1.3,4.3,2.6,2.9,4,1.6C3.9,1.6,3.9,1.6,4,1.6 M8.6,2.2C8.6,1,8.2,0,7.8,0C7.4,0,7,1,6.9,2.2H8.6 M8.6,4.6V8
                			l0.9,0.8v0.9H8.4L8.2,10H7.3L7.1,9.7H6V8.8L6.9,8V4.6H5.8L5.5,4.4l1.4-1.7h1.7L10,4.4L9.7,4.6H8.6z"/>
                </template>
            </g>
        </g>
    </g>
</template>
<script>
    import {
        mapAbilityGetters,
        mapTileProperties,
    } from '../../data/mappers'
    import {mapGetters} from "vuex";

    export default {
        name: 'tile-abilities',
        props: {
            size: null,
            margin: null,
        },
        data() {
            return {
                countPerRow: 11,
            }
        },
        methods: {
            abilityX(index) {
                index = Math.floor(index % this.countPerRow)
                return index * this.sizeWithMargin
            },
            abilityY(index) {
                return -(Math.floor(index / this.countPerRow) - this.rowCount) * this.sizeWithMargin
            },
        },
        computed: {
            offsetY() {
                return this.rowCount * this.sizeWithMargin
            },
            sizeWithMargin() {
                return this.size + (this.margin * 2)
            },
            rowCount() {
                return Math.floor(this.abilityList.length / this.countPerRow)
            },
            ...mapTileProperties({
                tile_class_id: 'tile_class_id',
            }),
            ...mapGetters([
               'frontInvertAbilities'
            ]),
            ...mapAbilityGetters([
                'abilityList',
            ]),
        },
    }
</script>
