$font-size: 6.75pt * $scale;
$row-height: 9pt * $scale;
$row-height: 12pt * $scale;
$cell-width: 14pt * $scale;

$grid-width: 152pt * $scale;

$col-name-width: 54pt * $scale;
$col-move-width: 10pt * $scale;
$col-controls-width: 50pt * $scale;
$col-arc-settings-width: 20pt * $scale;
$col-tile-weapon-type-width: 30pt * $scale;
$col-cost-width: 40pt * $scale;

$columns-edit-width: $col-controls-width + $col-move-width + ($col-arc-settings-width * 2) + $col-tile-weapon-type-width + $col-cost-width;


$gray-bg: rgba(88, 89, 91, 0.9);

@import 'die-colors';

.weapon-grid {
    margin: 0 0 20px;

    @each $key, $color in $die-color-map {
        .#{$key}-bg {
            background-color: $color;
        }
    }

    .controls {
        margin: 20px 0;
    }
    .weapon-grid-list {
        width: $grid-width + $columns-edit-width;
        border: 0.5pt solid #000;
    }

    .grid-header {
        font-weight: bold;
    }

    .grid-header,
    .weapon-grid-item {
        background: $gray-bg;
        &.sortable-ghost {
            opacity: 1;
            background: lighten($gray-bg, 24%);
        }

        &.sortable-drag {
            // override vue-draggable inline style
            opacity: 0.9 !important;
            background: transparent;
            .col-move,
            .col-name {
                background: opacify($gray-bg, 1);
            }
        }

        color: #fff;

        font-size: $font-size;
        height: $row-height;
        line-height: $row-height;

        text-transform: uppercase;

        $shadow-color: rgba(0, 0, 0, 0.5);

        text-shadow: 0px 0px 1px $shadow-color,
        -1px -1px 1.5px $shadow-color,
        1px -1px 1.5px $shadow-color,
        -1px 1px 1.5px $shadow-color,
        1px 1px 1.5px $shadow-color;

        [class^=col-] {
            border: 0.25pt * $scale solid #000;
        }

        display: flex;
        flex-wrap: nowrap;

        margin-right: ($grid-gutter-width / -2);
        margin-left: ($grid-gutter-width / -2);
    }

    .col-name {
        //flex: 2;
        padding: 0 0 0 2pt;
        width: $col-name-width;
        font-weight: normal;
    }
    .col-move {
        width: $col-move-width;
        cursor: move;
        text-align: center;
    }
    .col-quantity,
    .col-arc,
    .col-range,
    .col-ap,
    .col-at,
    .col-aa,
    .col-damage {
        width: $cell-width;
        text-align: center;
    }

    .sortable-drag {
        .col-quantity,
        .col-arc,
        .col-arc-direction,
        .col-arc-size,
        .col-range,
        .col-ap,
        .col-at,
        .col-aa,
        .col-damage,
        .col-tile-weapon-type,
        .col-cost,
        .col-controls {
            display: none !important;
        }
    }

    .label-quantity {
        display: none;
    }

    .col-arc-size,
    .col-arc-direction {
        text-align: center;
        width: $col-arc-settings-width;
    }

    .col-tile-weapon-type {
        text-align: center;
        width: $col-tile-weapon-type-width;
    }

    .col-controls {
        width: $col-controls-width;
        line-height: inherit;
    }

    .col-cost {
        width: $col-cost-width;
        text-align: right;
        padding: 0 3pt;
    }

    .weapon-grid-item {
        input.form-control {

            padding-left: 2px;
            padding-right: 2px;
            border: 0;
            text-align: center;
            margin-top: 1pt;

            height: $row-height - 2pt;
            line-height: $row-height - 2pt;
        }

        select.form-control {
            height: $row-height - 2pt;
            border: 0;
            margin-top: 1pt;

            &[disabled] {
                background-color: rgba(255, 255, 255, 0.66);
            }
        }
    }

    .icon-indirect,
    .icon-ama {
        height: $row-height;
        float: right;
        display: none;
    }

    .is-indirect .icon-indirect,
    .icon-ama {
        display: inline;
    }

    .arc {
        height: $row-height * 0.8;
        vertical-align: top;
        margin-top: 1pt;
    }

    .arc-90 {
        background: url('/img/arc-90.svg') center center no-repeat;
    }
    .arc-180 {
        background: url('/img/arc-180.svg') center center no-repeat;
    }
    .arc-270 {
        background: url('/img/arc-270.svg') center center no-repeat;
    }
    .arc-360 {
        background: url('/img/arc-360.svg') center center no-repeat;
    }

    .arc-up {

    }

    .arc-left {
        transform: rotate(-90deg);
    }

    .arc-right {
        transform: rotate(90deg);
    }

    .arc-down {
        transform: rotate(180deg);
    }

    .grid-header {
        .col-arc-size,
        .col-arc-direction,
        .col-tile-weapon-type,
        .col-move,
        .col-cost {
            font-weight: normal;
        }
    }

    .grid-header .col-cost {
        text-align: center;
    }

    .weapon-grid-item-new {
        margin: 20px;
    }

}

.number-cell {
    text-align: right;
    font-size: 12pt;
}

.number-zero {
    opacity: 0.6;
}

.number-positive {
    color: $success;
}

.number-negative {
    color: $danger;
}

@mixin print() {

}

.print {
    .col-arc-size,
    .col-arc-direction,
    .col-tile-weapon-type,
    .col-controls,
    .col-move,
    .col-cost,
    .input-quantity {
        display: none;
    }
    .label-quantity {
        display: block;
    }

    .weapon-grid .weapon-grid-list {
        width: (152pt * $scale);
    }
}

@media print {
    .col-arc-size,
    .col-arc-direction,
    .col-tile-weapon-type,
    .col-controls,
    .col-move,
    .col-cost,
    .input-quantity {
        display: none;
    }
    .label-quantity {
        display: block;
    }

    .weapon-grid .weapon-grid-list {
        width: (152pt * $scale);
    }
}
